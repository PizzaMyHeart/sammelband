<div class="wp-container-61fc314372128 entry-content wp-block-post-content"><br/><p>Recently I was browsing Product Hunt and I was aimlessly scrolling down to see if there are any interesting ideas. </p><br/><p>I was seeing one recurring idea, popping up once in every few weeks. This is the same idea that I see popping up on HackerNews, ProductHunt, IndieHackers every single week. What is this idea? <strong>Another product to bookmark websites you visit. </strong></p><br/><p>This is one idea that I have seen people beaten to death and beyond. There are several such ideas that I come across every once in a while, but this is the most common one. If you look at all these products, you will see that </p><br/><ul><li>They are almost the same, one is no different from the other. </li><li>One does not provide any advantage over the other.</li><li>The only difference you will see is the UI and the workflow.</li></ul><br/><p>But still people continue to make them. And like most projects, most of them will go offline within the first few years. </p><br/><p>So why people continue beat this idea to death?</p><br/><ul><li>Everyone has this itch, almost everyone who use the internet, including the creators at some point in their lives must have wanted a bookmarking application to save something they have come across the internet.</li><li>Bookmarking is broken in all browsers. From Chrome to FireFox no browser implements an easy to use bookmarking feature, which makes people go around looking for something which does booking marking better. <strong>Personally I feel this is the root cause for all these ideas.</strong> </li><li>There is no clear winner. Even though someone comes up with a bookmarking application every week, no one can tell a default bookmarking application from the back of their mind, such as Google for search or Instagram for photo sharing. There is no clear winner in bookmarking applications. So creators feel like they can create something that will dominate over everything else.</li><li>There is low barrier to entry. Anyone who can make a web app will be able to create a bookmarking application. Yes I have once created a Chrome extension on this idea, so that I learn how to create Chrome extensions.</li></ul><br/><p>The idea of bookmarking, or social bookmaking is not something new. From Delicious to StumbleUpon, to Digg to Pocket and finally a Y Combinator backed company Kippt all failed to capture the bookmarking space. </p><br/><p>Have people who create a bookmarking application read about what happened to them? and why they didn&#x2019;t work out?</p><br/><p>So with so many big and small players trying to create something that everyone wanted at some point in their lives and still failing, means that there is something inherently wrong about this idea.</p><br/><p><strong>The hypothesis which I believe is the fact that, even though this is an itch people would have while browsing the internet, it&#x2019;s not a big enough itch for them to use a bookmarking service or pay for such a service. </strong></p><br/><p>Another hypothesis would be</p><br/><p><strong>The market for such an app is so huge, there is no way one clear winner or one solution to fill such a big void.</strong></p><br/><p>Either way,</p><br/><p>Even thinking about myself, even though I have wanted a bookmarking application, it always has been a one time thing, that comes along once in every few months and not something that I would want to use recurrently everyday.</p><br/><p>But no matter what I&#x2019;m sure people will continue to come up with a new bookmarking app once in every few weeks. </p><br/><p>So in a summery, I feel people beat ideas to death without succeeding because.</p><br/><ul><li>They feel there is an itch in every user, but not a big enough itch to be solved by a solution</li><li>Low barrier to entry</li><li>There is a huge market for the idea, no matter how many products come up there will be enough room everyone, just because the void that has been created.</li><li>Finally there is no problem to be solved in the first place. And everyone is creating a solution in search of a problem.</li></ul><br/><p>What do you think? Write a comment below. </p><br/></div><div class="wp-container-61fc314372128 entry-content wp-block-post-content"><br/><p>Recently I was browsing Product Hunt and I was aimlessly scrolling down to see if there are any interesting ideas. </p><br/><p>I was seeing one recurring idea, popping up once in every few weeks. This is the same idea that I see popping up on HackerNews, ProductHunt, IndieHackers every single week. What is this idea? <strong>Another product to bookmark websites you visit. </strong></p><br/><p>This is one idea that I have seen people beaten to death and beyond. There are several such ideas that I come across every once in a while, but this is the most common one. If you look at all these products, you will see that </p><br/><ul><li>They are almost the same, one is no different from the other. </li><li>One does not provide any advantage over the other.</li><li>The only difference you will see is the UI and the workflow.</li></ul><br/><p>But still people continue to make them. And like most projects, most of them will go offline within the first few years. </p><br/><p>So why people continue beat this idea to death?</p><br/><ul><li>Everyone has this itch, almost everyone who use the internet, including the creators at some point in their lives must have wanted a bookmarking application to save something they have come across the internet.</li><li>Bookmarking is broken in all browsers. From Chrome to FireFox no browser implements an easy to use bookmarking feature, which makes people go around looking for something which does booking marking better. <strong>Personally I feel this is the root cause for all these ideas.</strong> </li><li>There is no clear winner. Even though someone comes up with a bookmarking application every week, no one can tell a default bookmarking application from the back of their mind, such as Google for search or Instagram for photo sharing. There is no clear winner in bookmarking applications. So creators feel like they can create something that will dominate over everything else.</li><li>There is low barrier to entry. Anyone who can make a web app will be able to create a bookmarking application. Yes I have once created a Chrome extension on this idea, so that I learn how to create Chrome extensions.</li></ul><br/><p>The idea of bookmarking, or social bookmaking is not something new. From Delicious to StumbleUpon, to Digg to Pocket and finally a Y Combinator backed company Kippt all failed to capture the bookmarking space. </p><br/><p>Have people who create a bookmarking application read about what happened to them? and why they didn&#x2019;t work out?</p><br/><p>So with so many big and small players trying to create something that everyone wanted at some point in their lives and still failing, means that there is something inherently wrong about this idea.</p><br/><p><strong>The hypothesis which I believe is the fact that, even though this is an itch people would have while browsing the internet, it&#x2019;s not a big enough itch for them to use a bookmarking service or pay for such a service. </strong></p><br/><p>Another hypothesis would be</p><br/><p><strong>The market for such an app is so huge, there is no way one clear winner or one solution to fill such a big void.</strong></p><br/><p>Either way,</p><br/><p>Even thinking about myself, even though I have wanted a bookmarking application, it always has been a one time thing, that comes along once in every few months and not something that I would want to use recurrently everyday.</p><br/><p>But no matter what I&#x2019;m sure people will continue to come up with a new bookmarking app once in every few weeks. </p><br/><p>So in a summery, I feel people beat ideas to death without succeeding because.</p><br/><ul><li>They feel there is an itch in every user, but not a big enough itch to be solved by a solution</li><li>Low barrier to entry</li><li>There is a huge market for the idea, no matter how many products come up there will be enough room everyone, just because the void that has been created.</li><li>Finally there is no problem to be solved in the first place. And everyone is creating a solution in search of a problem.</li></ul><br/><p>What do you think? Write a comment below. </p><br/></div><article class="main-page-content"><div><p>The <a href="/en-US/docs/Web/API/Fetch_API">Fetch API</a> provides a JavaScript interface for accessing and manipulating parts of the HTTP pipeline, such as requests and responses. It also provides a global <a href="/en-US/docs/Web/API/fetch"><code>fetch()</code></a> method that provides an easy, logical way to fetch resources asynchronously across the network.</p><br/><p>This kind of functionality was previously achieved using <a href="/en-US/docs/Web/API/XMLHttpRequest"><code>XMLHttpRequest</code></a>. Fetch provides a better alternative that can be easily used by other technologies such as <a href="/en-US/docs/Web/API/Service_Worker_API"><code>Service Workers</code></a>. Fetch also provides a single logical place to define other HTTP-related concepts such as <a href="/en-US/docs/Web/HTTP/CORS">CORS</a> and extensions to HTTP.</p><br/><p>The <code>fetch</code> specification differs from <code>jQuery.ajax()</code> in the following significant ways:</p><br/><ul> <li>The Promise returned from <code>fetch()</code> <strong>won&#x2019;t reject on HTTP error status</strong> even if the response is an HTTP 404 or 500. Instead, as soon as the server responds with headers, the Promise will resolve normally (with the <a href="/en-US/docs/Web/API/Response/ok"><code>ok</code></a> property of the response set to false if the response isn&#x2019;t in the range 200&#x2013;299), and it will only reject on network failure or if anything prevented the request from completing.</li> <li><code>fetch()</code> <strong>won&#x2019;t send cross-origin cookies</strong> unless you set the <em>credentials</em> <a href="/en-US/docs/Web/API/fetch#parameters">init option</a>. (Since <a href="https://github.com/whatwg/fetch/pull/585" class="external">April 2018</a>. The spec changed the default credentials policy to <code>same-origin</code>. Firefox changed since 61.0b13.)</li><br/></ul><br/><p>A basic fetch request is really simple to set up. Have a look at the following code:</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;http://example.com/movies.json&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div><br/><p>Here we are fetching a JSON file across the network and printing it to the console. The simplest use of <code>fetch()</code> takes one argument &#x2014; the path to the resource you want to fetch &#x2014; and does not directly return the JSON response body but instead returns a promise that resolves with a <a href="/en-US/docs/Web/API/Response"><code>Response</code></a> object.</p><br/><p>The <a href="/en-US/docs/Web/API/Response"><code>Response</code></a> object, in turn, does not directly contain the actual JSON response body but is instead a representation of the entire HTTP response. So, to extract the JSON body content from the <a href="/en-US/docs/Web/API/Response"><code>Response</code></a> object, we use the <a href="/en-US/docs/Web/API/Response/json"><code>json()</code></a> method, which returns a second promise that resolves with the result of parsing the response body text as JSON.</p><br/><div class="notecard note"> <p><strong>Note:</strong> See the <a href="#body">Body</a> section for similar methods to extract other types of body content.</p><br/></div><br/><p>Fetch requests are controlled by the <code>connect-src</code> directive of <a href="/en-US/docs/Web/HTTP/Headers/Content-Security-Policy">Content Security Policy</a> rather than the directive of the resources it&apos;s retrieving.</p></div><div><p>The <code>fetch()</code> method can optionally accept a second parameter, an <code>init</code> object that allows you to control a number of different settings:</p><br/><p>See <a href="/en-US/docs/Web/API/fetch"><code>fetch()</code></a> for the full options available, and more details.</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><br/><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">postData</span><span class="token punctuation">(</span>url <span class="token operator">=</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&apos;POST&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&apos;cors&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token string">&apos;no-cache&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">credentials</span><span class="token operator">:</span> <span class="token string">&apos;same-origin&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&apos;Content-Type&apos;</span><span class="token operator">:</span> <span class="token string">&apos;application/json&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">&apos;follow&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">referrerPolicy</span><span class="token operator">:</span> <span class="token string">&apos;no-referrer&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token function">postData</span><span class="token punctuation">(</span><span class="token string">&apos;https://example.com/answer&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">answer</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div><br/><p>Note that <code>mode: &quot;no-cors&quot;</code> only allows a limited set of headers in the request:</p><br/><ul> <li><code>Accept</code></li> <li><code>Accept-Language</code></li> <li><code>Content-Language</code></li> <li><code>Content-Type</code> with a value of <code>application/x-www-form-urlencoded</code>, <code>multipart/form-data</code>, or <code>text/plain</code></li><br/></ul></div><div><p>To cause browsers to send a request with credentials included on both same-origin and cross-origin calls, add <code>credentials: &apos;include&apos;</code> to the <code>init</code> object you pass to the <code>fetch()</code> method.</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;https://example.com&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">credentials</span><span class="token operator">:</span> <span class="token string">&apos;include&apos;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div><br/><div class="notecard note"> <p><strong>Note:</strong> <code>Access-Control-Allow-Origin</code> is prohibited from using a wildcard for requests with <code>credentials: &apos;include&apos;</code>. In such cases, the exact origin must be provided; even if you are using a CORS unblocker extension, the requests will still fail.</p><br/></div> <p>If you only want to send credentials if the request URL is on the same origin as the calling script, add <code>credentials: &apos;same-origin&apos;</code>.</p><br/><div class="code-example"><pre class="brush: js notranslate"><code> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;https://example.com&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">credentials</span><span class="token operator">:</span> <span class="token string">&apos;same-origin&apos;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div><br/><p>To instead ensure browsers don&#x2019;t include credentials in the request, use <code>credentials: &apos;omit&apos;</code>.</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;https://example.com&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">credentials</span><span class="token operator">:</span> <span class="token string">&apos;omit&apos;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><br/></code></pre></div></div><div><p>Use <a href="/en-US/docs/Web/API/fetch"><code>fetch()</code></a> to POST JSON-encoded data.</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&apos;example&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;https://example.com/profile&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&apos;POST&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&apos;Content-Type&apos;</span><span class="token operator">:</span> <span class="token string">&apos;application/json&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><br/><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br/><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Success:&apos;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><br/><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&apos;Error:&apos;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div></div><div><p>Files can be uploaded using an HTML <code>&lt;input type=&quot;file&quot; /&gt;</code> input element, <a href="/en-US/docs/Web/API/FormData/FormData"><code>FormData()</code></a> and <a href="/en-US/docs/Web/API/fetch"><code>fetch()</code></a>.</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token keyword">const</span> fileField <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;input[type=&quot;file&quot;]&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&apos;username&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;abc123&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&apos;avatar&apos;</span><span class="token punctuation">,</span> fileField<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;https://example.com/profile/avatar&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&apos;PUT&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span> formData<br/><span class="token punctuation">}</span><span class="token punctuation">)</span><br/><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br/><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Success:&apos;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><br/><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&apos;Error:&apos;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div></div><div><p>Files can be uploaded using an HTML <code>&lt;input type=&quot;file&quot; multiple /&gt;</code> input element, <a href="/en-US/docs/Web/API/FormData/FormData"><code>FormData()</code></a> and <a href="/en-US/docs/Web/API/fetch"><code>fetch()</code></a>.</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token keyword">const</span> photos <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;input[type=&quot;file&quot;][multiple]&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&apos;title&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;My Vegas Vacation&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> photos<span class="token punctuation">.</span>files<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">photos_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> photos<span class="token punctuation">.</span>files<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;https://example.com/posts&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&apos;POST&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span> formData<span class="token punctuation">,</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><br/><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br/><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Success:&apos;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><br/><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&apos;Error:&apos;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div></div><div><p>The chunks that are read from a response are not broken neatly at line boundaries and are Uint8Arrays, not strings. If you want to fetch a text file and process it line by line, it is up to you to handle these complications. The following example shows one way to do this by creating a line iterator (for simplicity, it assumes the text is UTF-8, and doesn&apos;t handle fetch errors).</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">makeTextFileLineIterator</span><span class="token punctuation">(</span><span class="token parameter">fileURL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">const</span> utf8Decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token string">&apos;utf-8&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>fileURL<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> reader <span class="token operator">=</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">getReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> chunk<span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> readerDone <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> chunk <span class="token operator">=</span> chunk <span class="token operator">?</span> utf8Decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">;</span> <span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\n|\r|\r\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gm</span></span><span class="token punctuation">;</span> <span class="token keyword">let</span> startIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">let</span> result<span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">let</span> result <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>readerDone<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">let</span> remainder <span class="token operator">=</span> chunk<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>startIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> chunk<span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> readerDone <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> chunk <span class="token operator">=</span> remainder <span class="token operator">+</span> <span class="token punctuation">(</span>chunk <span class="token operator">?</span> utf8Decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> startIndex <span class="token operator">=</span> re<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">yield</span> chunk<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>startIndex<span class="token punctuation">,</span> result<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> startIndex <span class="token operator">=</span> re<span class="token punctuation">.</span>lastIndex<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>startIndex <span class="token operator">&lt;</span> chunk<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">yield</span> chunk<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>startIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><br/><span class="token punctuation">}</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">let</span> line <span class="token keyword">of</span> <span class="token function">makeTextFileLineIterator</span><span class="token punctuation">(</span>urlOfFile<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">processLine</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><br/><span class="token punctuation">}</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div></div><div><p>A <a href="/en-US/docs/Web/API/fetch"><code>fetch()</code></a> promise will reject with a <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a> when a network error is encountered or CORS is misconfigured on the server-side, although this usually means permission issues or similar &#x2014; a 404 does not constitute a network error, for example. An accurate check for a successful <code>fetch()</code> would include checking that the promise resolved, then checking that the <a href="/en-US/docs/Web/API/Response/ok"><code>Response.ok</code></a> property has a value of true. The code would look something like this:</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;flowers.jpg&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&apos;Network response was not OK&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">myBlob</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> myImage<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>myBlob<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&apos;There has been a problem with your fetch operation:&apos;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div></div><div><p>Instead of passing a path to the resource you want to request into the <code>fetch()</code> call, you can create a request object using the <a href="/en-US/docs/Web/API/Request/Request"><code>Request()</code></a> constructor, and pass that in as a <code>fetch()</code> method argument:</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> myHeaders <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> myRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">&apos;flowers.jpg&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&apos;GET&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">headers</span><span class="token operator">:</span> myHeaders<span class="token punctuation">,</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&apos;cors&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token string">&apos;default&apos;</span><span class="token punctuation">,</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">fetch</span><span class="token punctuation">(</span>myRequest<span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">myBlob</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> myImage<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>myBlob<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div><br/><p><code>Request()</code> accepts exactly the same parameters as the <code>fetch()</code> method. You can even pass in an existing request object to create a copy of it:</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> anotherRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>myRequest<span class="token punctuation">,</span> myInit<span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div><br/><p>This is pretty useful, as request and response bodies are one use only. Making a copy like this allows you to make use of the request/response again while varying the <code>init</code> options if desired. The copy must be made before the body is read, and reading the body in the copy will also mark it as read in the original request.</p><br/><div class="notecard note"> <p><strong>Note:</strong> There is also a <a href="/en-US/docs/Web/API/Request/clone"><code>clone()</code></a> method that creates a copy. Both methods of creating a copy will fail if the body of the original request or response has already been read, but reading the body of a cloned response or request will not cause it to be marked as read in the original.</p><br/></div></div><div><p>The <a href="/en-US/docs/Web/API/Headers"><code>Headers</code></a> interface allows you to create your own headers object via the <a href="/en-US/docs/Web/API/Headers/Headers"><code>Headers()</code></a> constructor. A headers object is a simple multi-map of names to values:</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token string">&apos;Hello World&apos;</span><span class="token punctuation">;</span><br/><span class="token keyword">const</span> myHeaders <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>myHeaders<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&apos;Content-Type&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;text/plain&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>myHeaders<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&apos;Content-Length&apos;</span><span class="token punctuation">,</span> content<span class="token punctuation">.</span>length<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>myHeaders<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&apos;X-Custom-Header&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;ProcessThisImmediately&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div><br/><p>The same can be achieved by passing an array of arrays or an object literal to the constructor:</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> myHeaders <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string-property property">&apos;Content-Type&apos;</span><span class="token operator">:</span> <span class="token string">&apos;text/plain&apos;</span><span class="token punctuation">,</span> <span class="token string-property property">&apos;Content-Length&apos;</span><span class="token operator">:</span> content<span class="token punctuation">.</span>length<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-property property">&apos;X-Custom-Header&apos;</span><span class="token operator">:</span> <span class="token string">&apos;ProcessThisImmediately&apos;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div><br/><p>The contents can be queried and retrieved:</p><br/><div class="code-example"><pre class="brush: js notranslate"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myHeaders<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&apos;Content-Type&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myHeaders<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&apos;Set-Cookie&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> myHeaders<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&apos;Content-Type&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;text/html&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>myHeaders<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&apos;X-Custom-Header&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;AnotherValue&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myHeaders<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&apos;Content-Length&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myHeaders<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&apos;X-Custom-Header&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> myHeaders<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&apos;X-Custom-Header&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myHeaders<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&apos;X-Custom-Header&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br/></code></pre></div><br/><p>Some of these operations are only useful in <a href="/en-US/docs/Web/API/Service_Worker_API"><code>ServiceWorkers</code></a>, but they provide a much nicer API for manipulating headers.</p><br/><p>All of the Headers methods throw a <code>TypeError</code> if a header name is used that is not a valid HTTP Header name. The mutation operations will throw a <code>TypeError</code> if there is an immutable guard (<a href="#guard">see below</a>). Otherwise, they fail silently. For example:</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> myResponse <span class="token operator">=</span> Response<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token keyword">try</span> <span class="token punctuation">{</span> myResponse<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&apos;Origin&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;http://mybank.com&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Cannot pretend to be a bank!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span><br/></code></pre></div><br/><p>A good use case for headers is checking whether the content type is correct before you process it further. For example:</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">fetch</span><span class="token punctuation">(</span>myRequest<span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">const</span> contentType <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&apos;content-type&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>contentType <span class="token operator">||</span> <span class="token operator">!</span>contentType<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&apos;application/json&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;Oops, we haven&apos;t got JSON!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div></div><div><p>Since headers can be sent in requests and received in responses, and have various limitations about what information can and should be mutable, headers&apos; objects have a <em>guard</em> property. This is not exposed to the Web, but it affects which mutation operations are allowed on the headers object.</p><br/><p>Possible guard values are:</p><br/><ul> <li><code>none</code>: default.</li> <li><code>request</code>: guard for a headers object obtained from a request (<a href="/en-US/docs/Web/API/Request/headers"><code>Request.headers</code></a>).</li> <li><code>request-no-cors</code>: guard for a headers object obtained from a request created with <a href="/en-US/docs/Web/API/Request/mode"><code>Request.mode</code></a> <code>no-cors</code>.</li> <li><code>response</code>: guard for a headers object obtained from a response (<a href="/en-US/docs/Web/API/Response/headers"><code>Response.headers</code></a>).</li> <li><code>immutable</code>: guard that renders a headers object read-only; mostly used for ServiceWorkers.</li><br/></ul><br/><div class="notecard note"> <p><strong>Note:</strong> You may not append or set the <code>Content-Length</code> header on a guarded headers object for a <code>response</code>. Similarly, inserting <code>Set-Cookie</code> into a response header is not allowed: ServiceWorkers are not allowed to set cookies via synthesized responses.</p><br/></div></div><div><p>As you have seen above, <a href="/en-US/docs/Web/API/Response"><code>Response</code></a> instances are returned when <code>fetch()</code> promises are resolved.</p><br/><p>The most common response properties you&apos;ll use are:</p><br/><ul> <li><a href="/en-US/docs/Web/API/Response/status"><code>Response.status</code></a> &#x2014; An integer (default value 200) containing the response status code.</li> <li><a href="/en-US/docs/Web/API/Response/statusText"><code>Response.statusText</code></a> &#x2014; A string (default value &quot;&quot;), which corresponds to the HTTP status code message. Note that HTTP/2 <a href="https://fetch.spec.whatwg.org/#concept-response-status-message" class="external">does not support</a> status messages.</li> <li><a href="/en-US/docs/Web/API/Response/ok"><code>Response.ok</code></a> &#x2014; seen in use above, this is a shorthand for checking that status is in the range 200-299 inclusive. This returns a boolean value.</li><br/></ul><br/><p>They can also be created programmatically via JavaScript, but this is only really useful in <a href="/en-US/docs/Web/API/Service_Worker_API"><code>ServiceWorkers</code></a>, when you are providing a custom response to a received request using a <a href="/en-US/docs/Web/API/FetchEvent/respondWith"><code>respondWith()</code></a> method:</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> myBody <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;fetch&apos;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> event<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span>myBody<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&apos;Content-Type&apos;</span><span class="token operator">:</span> <span class="token string">&apos;text/plain&apos;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div><br/><p>The <a href="/en-US/docs/Web/API/Response/Response"><code>Response()</code></a> constructor takes two optional arguments &#x2014; a body for the response, and an init object (similar to the one that <a href="/en-US/docs/Web/API/Request/Request"><code>Request()</code></a> accepts.)</p><br/><div class="notecard note"> <p><strong>Note:</strong> The static method <a href="/en-US/docs/Web/API/Response/error"><code>error()</code></a> returns an error response. Similarly, <a href="/en-US/docs/Web/API/Response/redirect"><code>redirect()</code></a> returns a response resulting in a redirect to a specified URL. These are also only relevant to Service Workers.</p><br/></div></div><div><p>To use Fetch in unsupported browsers, there is a <a href="https://github.com/github/fetch" class="external">Fetch Polyfill</a> available that recreates the functionality for non-supporting browsers.</p></div><div><table> <thead> <tr> <th>Specification</th> <th>Status</th> <th>Comment</th> </tr> </thead> <tbody> <tr> <td><a href="https://fetch.spec.whatwg.org/" class="external">Fetch</a></td> <td><span class="spec-living">Living Standard</span></td> <td>Initial definition</td> </tr> </tbody><br/></table></div><p>BCD tables only load in the browser</p><h2 id="see_also"><a href="#see_also">See also</a></h2></article><div><div><p>Below is a quick set of examples to show how to send HTTP POST requests from React to a backend API using <code>fetch()</code> which comes bundled with all modern browsers.</p> <p>Other HTTP examples available:</p> <ul> <li><strong>React + Fetch: </strong> <a href="/post/2020/01/27/react-fetch-http-get-request-examples">GET</a>, <a href="/post/2020/11/02/react-fetch-http-put-request-examples">PUT</a>, <a href="/post/2020/11/11/react-fetch-http-delete-request-examples">DELETE</a></li> <li><strong>React + Axios: </strong> <a href="/post/2020/07/17/react-axios-http-get-request-examples">GET</a>, <a href="/post/2020/07/17/react-axios-http-post-request-examples">POST</a>, <a href="/post/2021/04/22/react-axios-http-put-request-examples">PUT</a>, <a href="/post/2021/04/23/react-axios-http-delete-request-examples">DELETE</a></li> <li><strong>Angular: </strong> <a href="/post/2019/09/06/angular-http-get-request-examples">GET</a>, <a href="/post/2019/11/21/angular-http-post-request-examples">POST</a>, <a href="/post/2020/10/07/angular-http-put-request-examples">PUT</a>, <a href="/post/2020/10/10/angular-http-delete-request-examples">DELETE</a></li> <li><strong>Vue + Fetch: </strong> <a href="/post/2020/04/30/vue-fetch-http-get-request-examples">GET</a>, <a href="/post/2020/04/30/vue-fetch-http-post-request-examples">POST</a></li> <li><strong>Vue + Axios: </strong> <a href="/post/2020/07/23/vue-axios-http-get-request-examples">GET</a>, <a href="/post/2020/07/23/vue-axios-http-post-request-examples">POST</a></li> <li><strong>Blazor WebAssembly:</strong> <a href="/post/2020/09/20/blazor-webassembly-http-get-request-examples">GET</a>, <a href="/post/2020/09/16/blazor-webassembly-http-post-request-examples">POST</a></li> <li><strong>Axios: </strong> <a href="/post/2021/07/01/axios-http-get-request-examples">GET</a>, <a href="/post/2021/06/25/axios-http-post-request-examples">POST</a>, <a href="/post/2021/08/24/axios-http-put-request-examples">PUT</a>, <a href="/post/2021/08/25/axios-http-delete-request-examples">DELETE</a></li> <li><strong>Fetch: </strong> <a href="/post/2021/09/06/fetch-http-get-request-examples">GET</a>, <a href="/post/2021/09/05/fetch-http-post-request-examples">POST</a>, <a href="/post/2021/09/20/fetch-http-put-request-examples">PUT</a>, <a href="/post/2021/09/21/fetch-http-delete-request-examples">DELETE</a></li><br/></ul> <p><iframe src="https://www.youtube.com/embed/nQiYpBzquaM" class></iframe></p> <h2><br><br/>Simple POST request with a JSON body using fetch</h2> <p>This sends an HTTP POST request to the <a href="https://reqres.in/">Reqres</a> api which is a fake online REST api that includes a <code>/api/posts</code> route that responds to <code>POST</code> requests with the contents of the post body and an id property. The id from the response is assigned to the react component state property <code>postId</code> so it can be displayed in the component <code>render()</code> method.</p> <pre class="line-numbers"><code class="language-javascript">componentDidMount() {<br/>    // Simple POST request with a JSON body using fetch<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions)<br/>        .then(response =&gt; response.json())<br/>        .then(data =&gt; this.setState({ postId: data.id }));<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequest.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequest.jsx</a></p> <h2><br><br/>POST request using fetch with React hooks</h2> <p>This sends the same POST request from React using fetch, but this version uses React hooks from a function component instead of lifecycle methods from a traditional React class component. The <code>useEffect</code> React hook replaces the <code>componentDidMount</code> lifecycle method to make the HTTP POST request when the component loads.</p> <p>The second parameter to the <code>useEffect</code> React hook is an array of dependencies that determines when the hook is run, passing an empty array causes the hook to only be run once when the component first loads, like the <code>componentDidMount</code> lifecyle method in a class component. For more info on React hooks see <a href="https://reactjs.org/docs/hooks-intro.html">https://reactjs.org/docs/hooks-intro.html</a>.</p> <pre class="line-numbers"><code class="language-javascript">useEffect(() =&gt; {<br/>    // POST request using fetch inside useEffect React hook<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React Hooks POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions)<br/>        .then(response =&gt; response.json())<br/>        .then(data =&gt; setPostId(data.id));<br/><br/>// empty dependency array means this effect will only run once (like componentDidMount in classes)<br/>}, []);</code></pre> <p>Example React hooks component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestHooks.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestHooks.jsx</a></p> <h2><br><br/>POST request using fetch with async/await</h2> <p>This sends the same POST request from React using fetch, but this version uses an <code>async</code> function and the <code>await</code> javascript expression to wait for the promises to return (instead of using the promise <code>then()</code> method as above).</p> <pre class="line-numbers"><code class="language-javascript">async componentDidMount() {<br/>    // POST request using fetch with async/await<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    const response = await fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions);<br/>    const data = await response.json();<br/>    this.setState({ postId: data.id });<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestAsyncAwait.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestAsyncAwait.jsx</a></p> <h2><br><br/>POST request using fetch with error handling</h2> <p>This sends a POST request from React to an invalid url on the api then assigns the error to the <code>errorMessage</code> component state property and logs the error to the console.</p> <p>The <code>fetch()</code> function will automatically throw an error for network errors but not for HTTP errors such as 4xx or 5xx responses. For HTTP errors we can check the <code>response.ok</code> property to see if the request failed and reject the promise ourselves by calling <code>return Promise.reject(error);</code>. This approach means that both types of failed requests - network errors and http errors - can be handled by a single <code>catch()</code> block.</p> <pre class="line-numbers"><code class="language-javascript">componentDidMount() {<br/>    // POST request using fetch with error handling<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/invalid-url&apos;, requestOptions)<br/>        .then(async response =&gt; {<br/>            const isJson = response.headers.get(&apos;content-type&apos;)?.includes(&apos;application/json&apos;);<br/>            const data = isJson &amp;&amp; await response.json();<br/><br/>            // check for error response<br/>            if (!response.ok) {<br/>                // get error message from body or default to response status<br/>                const error = (data &amp;&amp; data.message) || response.status;<br/>                return Promise.reject(error);<br/>            }<br/><br/>            this.setState({ postId: data.id })<br/>        })<br/>        .catch(error =&gt; {<br/>            this.setState({ errorMessage: error.toString() });<br/>            console.error(&apos;There was an error!&apos;, error);<br/>        });<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestErrorHandling.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestErrorHandling.jsx</a></p> <h2><br><br/>POST request using fetch with set HTTP headers</h2> <p>This sends the same POST request again from React using fetch with a couple of extra headers set, the HTTP <code>Authorization</code> header and a custom header <code>My-Custom-Header</code>.</p> <pre class="line-numbers"><code class="language-javascript">componentDidMount() {<br/>    // POST request using fetch with set headers<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { <br/>            &apos;Content-Type&apos;: &apos;application/json&apos;,<br/>            &apos;Authorization&apos;: &apos;Bearer my-token&apos;,<br/>            &apos;My-Custom-Header&apos;: &apos;foobar&apos;<br/>        },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions)<br/>        .then(response =&gt; response.json())<br/>        .then(data =&gt; this.setState({ postId: data.id }));<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestSetHeaders.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestSetHeaders.jsx</a></p> <p>Update History:</p> <ul> <li>22 Apr 2021 - Replaced JSONPlaceholder API with Reqres API in examples because JSONPlaceholder stopped allowing CORS requests</li> <li>01 Feb 2020 - Created fetch POST request examples</li><br/></ul> </div><p>Subscribe to my YouTube channel or follow me on Twitter, Facebook or GitHub to be notified when I post new content.</p><p>I&apos;m currently attempting to travel around Australia by motorcycle with my wife Tina on a pair of Royal Enfield Himalayans. You can follow our adventures on YouTube, Instagram and Facebook.</p></div><article class="main-page-content"><div><p> The <strong><code>Object.entries()</code></strong> method returns an array of a given object&apos;s own enumerable string-keyed property <code>[key, value]</code> pairs. This is the same as iterating with a <a href="/en-US/docs/Web/JavaScript/Reference/Statements/for...in"><code>for...in</code></a> loop, except that a <code>for...in</code> loop enumerates properties in the prototype chain as well.<br/></p><br/><p> The order of the array returned by <strong><code>Object.entries()</code></strong> is the same as that provided by a <a href="/en-US/docs/Web/JavaScript/Reference/Statements/for...in"><code>for...in</code></a> loop. If there is a need for different ordering, then the array should be sorted first, like <code>Object.entries(obj).sort((a, b) =&gt; b[0].localeCompare(a[0]));</code>.<br/></p></div><div><dl> <dt><code>obj</code></dt> <dd> <p> The object whose own enumerable string-keyed property <code>[key, value]</code> pairs are to be returned. </p> </dd><br/></dl></div><div><p> An array of the given object&apos;s own enumerable string-keyed property <code>[key, value]</code> pairs.<br/></p></div><div><p> <code>Object.entries()</code> returns an array whose elements are arrays corresponding to the enumerable string-keyed property <code>[key, value]</code> pairs found directly upon <code>object</code>. The ordering of the properties is the same as that given by looping over the property values of the object manually.<br/></p></div><div><p> To add compatible <code>Object.entries()</code> support in older environments that do not natively support it, you can use any of the following:<br/></p> <div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span>entries<span class="token punctuation">)</span> <span class="token punctuation">{</span> Object<span class="token punctuation">.</span><span class="token function-variable function">entries</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">obj</span> <span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">var</span> ownProps <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">,</span> i <span class="token operator">=</span> ownProps<span class="token punctuation">.</span>length<span class="token punctuation">,</span> resArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span> resArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>ownProps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> obj<span class="token punctuation">[</span>ownProps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">return</span> resArray<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span><br/></code></pre></div><br/><p> For the above polyfill code snippet, if you need support for IE&lt;9, then you will also need an <code>Object.keys()</code> polyfill (such as the one found on the <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys"><code>Object.keys</code></a> page).<br/></p></div><div><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&apos;bar&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">&apos;a&apos;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&apos;b&apos;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&apos;c&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> anObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">100</span><span class="token operator">:</span> <span class="token string">&apos;a&apos;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&apos;b&apos;</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">:</span> <span class="token string">&apos;c&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>anObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> myObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">getFoo</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>myObj<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">&apos;bar&apos;</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token string">&apos;foo&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">9</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div></div><div><p> The <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>new Map()</code></a> constructor accepts an iterable of <code>entries</code>. With <code>Object.entries</code>, you can easily convert from <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a> to <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a>:<br/></p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&apos;bar&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <br/></code></pre></div></div><div><p>Using <a href="/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#array_destructuring">Array<br/>Destructuring</a>, you can iterate through objects easily.</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&apos;bar&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br/></code></pre></div></div><p>BCD tables only load in the browser</p><h2 id="see_also"><a href="#see_also">See also</a></h2></article><div><div><p>Below is a quick set of examples to show how to send HTTP POST requests from React to a backend API using <code>fetch()</code> which comes bundled with all modern browsers.</p> <p>Other HTTP examples available:</p> <ul> <li><strong>React + Fetch: </strong> <a href="/post/2020/01/27/react-fetch-http-get-request-examples">GET</a>, <a href="/post/2020/11/02/react-fetch-http-put-request-examples">PUT</a>, <a href="/post/2020/11/11/react-fetch-http-delete-request-examples">DELETE</a></li> <li><strong>React + Axios: </strong> <a href="/post/2020/07/17/react-axios-http-get-request-examples">GET</a>, <a href="/post/2020/07/17/react-axios-http-post-request-examples">POST</a>, <a href="/post/2021/04/22/react-axios-http-put-request-examples">PUT</a>, <a href="/post/2021/04/23/react-axios-http-delete-request-examples">DELETE</a></li> <li><strong>Angular: </strong> <a href="/post/2019/09/06/angular-http-get-request-examples">GET</a>, <a href="/post/2019/11/21/angular-http-post-request-examples">POST</a>, <a href="/post/2020/10/07/angular-http-put-request-examples">PUT</a>, <a href="/post/2020/10/10/angular-http-delete-request-examples">DELETE</a></li> <li><strong>Vue + Fetch: </strong> <a href="/post/2020/04/30/vue-fetch-http-get-request-examples">GET</a>, <a href="/post/2020/04/30/vue-fetch-http-post-request-examples">POST</a></li> <li><strong>Vue + Axios: </strong> <a href="/post/2020/07/23/vue-axios-http-get-request-examples">GET</a>, <a href="/post/2020/07/23/vue-axios-http-post-request-examples">POST</a></li> <li><strong>Blazor WebAssembly:</strong> <a href="/post/2020/09/20/blazor-webassembly-http-get-request-examples">GET</a>, <a href="/post/2020/09/16/blazor-webassembly-http-post-request-examples">POST</a></li> <li><strong>Axios: </strong> <a href="/post/2021/07/01/axios-http-get-request-examples">GET</a>, <a href="/post/2021/06/25/axios-http-post-request-examples">POST</a>, <a href="/post/2021/08/24/axios-http-put-request-examples">PUT</a>, <a href="/post/2021/08/25/axios-http-delete-request-examples">DELETE</a></li> <li><strong>Fetch: </strong> <a href="/post/2021/09/06/fetch-http-get-request-examples">GET</a>, <a href="/post/2021/09/05/fetch-http-post-request-examples">POST</a>, <a href="/post/2021/09/20/fetch-http-put-request-examples">PUT</a>, <a href="/post/2021/09/21/fetch-http-delete-request-examples">DELETE</a></li><br/></ul> <p><iframe src="https://www.youtube.com/embed/nQiYpBzquaM" class></iframe></p> <h2><br><br/>Simple POST request with a JSON body using fetch</h2> <p>This sends an HTTP POST request to the <a href="https://reqres.in/">Reqres</a> api which is a fake online REST api that includes a <code>/api/posts</code> route that responds to <code>POST</code> requests with the contents of the post body and an id property. The id from the response is assigned to the react component state property <code>postId</code> so it can be displayed in the component <code>render()</code> method.</p> <pre class="line-numbers"><code class="language-javascript">componentDidMount() {<br/>    // Simple POST request with a JSON body using fetch<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions)<br/>        .then(response =&gt; response.json())<br/>        .then(data =&gt; this.setState({ postId: data.id }));<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequest.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequest.jsx</a></p> <h2><br><br/>POST request using fetch with React hooks</h2> <p>This sends the same POST request from React using fetch, but this version uses React hooks from a function component instead of lifecycle methods from a traditional React class component. The <code>useEffect</code> React hook replaces the <code>componentDidMount</code> lifecycle method to make the HTTP POST request when the component loads.</p> <p>The second parameter to the <code>useEffect</code> React hook is an array of dependencies that determines when the hook is run, passing an empty array causes the hook to only be run once when the component first loads, like the <code>componentDidMount</code> lifecyle method in a class component. For more info on React hooks see <a href="https://reactjs.org/docs/hooks-intro.html">https://reactjs.org/docs/hooks-intro.html</a>.</p> <pre class="line-numbers"><code class="language-javascript">useEffect(() =&gt; {<br/>    // POST request using fetch inside useEffect React hook<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React Hooks POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions)<br/>        .then(response =&gt; response.json())<br/>        .then(data =&gt; setPostId(data.id));<br/><br/>// empty dependency array means this effect will only run once (like componentDidMount in classes)<br/>}, []);</code></pre> <p>Example React hooks component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestHooks.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestHooks.jsx</a></p> <h2><br><br/>POST request using fetch with async/await</h2> <p>This sends the same POST request from React using fetch, but this version uses an <code>async</code> function and the <code>await</code> javascript expression to wait for the promises to return (instead of using the promise <code>then()</code> method as above).</p> <pre class="line-numbers"><code class="language-javascript">async componentDidMount() {<br/>    // POST request using fetch with async/await<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    const response = await fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions);<br/>    const data = await response.json();<br/>    this.setState({ postId: data.id });<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestAsyncAwait.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestAsyncAwait.jsx</a></p> <h2><br><br/>POST request using fetch with error handling</h2> <p>This sends a POST request from React to an invalid url on the api then assigns the error to the <code>errorMessage</code> component state property and logs the error to the console.</p> <p>The <code>fetch()</code> function will automatically throw an error for network errors but not for HTTP errors such as 4xx or 5xx responses. For HTTP errors we can check the <code>response.ok</code> property to see if the request failed and reject the promise ourselves by calling <code>return Promise.reject(error);</code>. This approach means that both types of failed requests - network errors and http errors - can be handled by a single <code>catch()</code> block.</p> <pre class="line-numbers"><code class="language-javascript">componentDidMount() {<br/>    // POST request using fetch with error handling<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/invalid-url&apos;, requestOptions)<br/>        .then(async response =&gt; {<br/>            const isJson = response.headers.get(&apos;content-type&apos;)?.includes(&apos;application/json&apos;);<br/>            const data = isJson &amp;&amp; await response.json();<br/><br/>            // check for error response<br/>            if (!response.ok) {<br/>                // get error message from body or default to response status<br/>                const error = (data &amp;&amp; data.message) || response.status;<br/>                return Promise.reject(error);<br/>            }<br/><br/>            this.setState({ postId: data.id })<br/>        })<br/>        .catch(error =&gt; {<br/>            this.setState({ errorMessage: error.toString() });<br/>            console.error(&apos;There was an error!&apos;, error);<br/>        });<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestErrorHandling.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestErrorHandling.jsx</a></p> <h2><br><br/>POST request using fetch with set HTTP headers</h2> <p>This sends the same POST request again from React using fetch with a couple of extra headers set, the HTTP <code>Authorization</code> header and a custom header <code>My-Custom-Header</code>.</p> <pre class="line-numbers"><code class="language-javascript">componentDidMount() {<br/>    // POST request using fetch with set headers<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { <br/>            &apos;Content-Type&apos;: &apos;application/json&apos;,<br/>            &apos;Authorization&apos;: &apos;Bearer my-token&apos;,<br/>            &apos;My-Custom-Header&apos;: &apos;foobar&apos;<br/>        },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions)<br/>        .then(response =&gt; response.json())<br/>        .then(data =&gt; this.setState({ postId: data.id }));<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestSetHeaders.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestSetHeaders.jsx</a></p> <p>Update History:</p> <ul> <li>22 Apr 2021 - Replaced JSONPlaceholder API with Reqres API in examples because JSONPlaceholder stopped allowing CORS requests</li> <li>01 Feb 2020 - Created fetch POST request examples</li><br/></ul> </div><p>Subscribe to my YouTube channel or follow me on Twitter, Facebook or GitHub to be notified when I post new content.</p><p>I&apos;m currently attempting to travel around Australia by motorcycle with my wife Tina on a pair of Royal Enfield Himalayans. You can follow our adventures on YouTube, Instagram and Facebook.</p></div><article class="main-page-content"><div><p> The <strong><code>Object.entries()</code></strong> method returns an array of a given object&apos;s own enumerable string-keyed property <code>[key, value]</code> pairs. This is the same as iterating with a <a href="/en-US/docs/Web/JavaScript/Reference/Statements/for...in"><code>for...in</code></a> loop, except that a <code>for...in</code> loop enumerates properties in the prototype chain as well.<br/></p><br/><p> The order of the array returned by <strong><code>Object.entries()</code></strong> is the same as that provided by a <a href="/en-US/docs/Web/JavaScript/Reference/Statements/for...in"><code>for...in</code></a> loop. If there is a need for different ordering, then the array should be sorted first, like <code>Object.entries(obj).sort((a, b) =&gt; b[0].localeCompare(a[0]));</code>.<br/></p></div><div><dl> <dt><code>obj</code></dt> <dd> <p> The object whose own enumerable string-keyed property <code>[key, value]</code> pairs are to be returned. </p> </dd><br/></dl></div><div><p> An array of the given object&apos;s own enumerable string-keyed property <code>[key, value]</code> pairs.<br/></p></div><div><p> <code>Object.entries()</code> returns an array whose elements are arrays corresponding to the enumerable string-keyed property <code>[key, value]</code> pairs found directly upon <code>object</code>. The ordering of the properties is the same as that given by looping over the property values of the object manually.<br/></p></div><div><p> To add compatible <code>Object.entries()</code> support in older environments that do not natively support it, you can use any of the following:<br/></p> <div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span>entries<span class="token punctuation">)</span> <span class="token punctuation">{</span> Object<span class="token punctuation">.</span><span class="token function-variable function">entries</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">obj</span> <span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">var</span> ownProps <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">,</span> i <span class="token operator">=</span> ownProps<span class="token punctuation">.</span>length<span class="token punctuation">,</span> resArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span> resArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>ownProps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> obj<span class="token punctuation">[</span>ownProps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">return</span> resArray<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span><br/></code></pre></div><br/><p> For the above polyfill code snippet, if you need support for IE&lt;9, then you will also need an <code>Object.keys()</code> polyfill (such as the one found on the <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys"><code>Object.keys</code></a> page).<br/></p></div><div><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&apos;bar&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">&apos;a&apos;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&apos;b&apos;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&apos;c&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> anObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">100</span><span class="token operator">:</span> <span class="token string">&apos;a&apos;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&apos;b&apos;</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">:</span> <span class="token string">&apos;c&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>anObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> myObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">getFoo</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>myObj<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">&apos;bar&apos;</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token string">&apos;foo&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">9</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/></code></pre></div></div><div><p> The <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>new Map()</code></a> constructor accepts an iterable of <code>entries</code>. With <code>Object.entries</code>, you can easily convert from <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a> to <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a>:<br/></p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&apos;bar&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <br/></code></pre></div></div><div><p>Using <a href="/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#array_destructuring">Array<br/>Destructuring</a>, you can iterate through objects easily.</p><br/><div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&apos;bar&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br/>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br/></code></pre></div></div><p>BCD tables only load in the browser</p><h2 id="see_also"><a href="#see_also">See also</a></h2></article><div><div><p>Below is a quick set of examples to show how to send HTTP POST requests from React to a backend API using <code>fetch()</code> which comes bundled with all modern browsers.</p> <p>Other HTTP examples available:</p> <ul> <li><strong>React + Fetch: </strong> <a href="/post/2020/01/27/react-fetch-http-get-request-examples">GET</a>, <a href="/post/2020/11/02/react-fetch-http-put-request-examples">PUT</a>, <a href="/post/2020/11/11/react-fetch-http-delete-request-examples">DELETE</a></li> <li><strong>React + Axios: </strong> <a href="/post/2020/07/17/react-axios-http-get-request-examples">GET</a>, <a href="/post/2020/07/17/react-axios-http-post-request-examples">POST</a>, <a href="/post/2021/04/22/react-axios-http-put-request-examples">PUT</a>, <a href="/post/2021/04/23/react-axios-http-delete-request-examples">DELETE</a></li> <li><strong>Angular: </strong> <a href="/post/2019/09/06/angular-http-get-request-examples">GET</a>, <a href="/post/2019/11/21/angular-http-post-request-examples">POST</a>, <a href="/post/2020/10/07/angular-http-put-request-examples">PUT</a>, <a href="/post/2020/10/10/angular-http-delete-request-examples">DELETE</a></li> <li><strong>Vue + Fetch: </strong> <a href="/post/2020/04/30/vue-fetch-http-get-request-examples">GET</a>, <a href="/post/2020/04/30/vue-fetch-http-post-request-examples">POST</a></li> <li><strong>Vue + Axios: </strong> <a href="/post/2020/07/23/vue-axios-http-get-request-examples">GET</a>, <a href="/post/2020/07/23/vue-axios-http-post-request-examples">POST</a></li> <li><strong>Blazor WebAssembly:</strong> <a href="/post/2020/09/20/blazor-webassembly-http-get-request-examples">GET</a>, <a href="/post/2020/09/16/blazor-webassembly-http-post-request-examples">POST</a></li> <li><strong>Axios: </strong> <a href="/post/2021/07/01/axios-http-get-request-examples">GET</a>, <a href="/post/2021/06/25/axios-http-post-request-examples">POST</a>, <a href="/post/2021/08/24/axios-http-put-request-examples">PUT</a>, <a href="/post/2021/08/25/axios-http-delete-request-examples">DELETE</a></li> <li><strong>Fetch: </strong> <a href="/post/2021/09/06/fetch-http-get-request-examples">GET</a>, <a href="/post/2021/09/05/fetch-http-post-request-examples">POST</a>, <a href="/post/2021/09/20/fetch-http-put-request-examples">PUT</a>, <a href="/post/2021/09/21/fetch-http-delete-request-examples">DELETE</a></li><br/></ul> <p><iframe src="https://www.youtube.com/embed/nQiYpBzquaM" class></iframe></p> <h2><br><br/>Simple POST request with a JSON body using fetch</h2> <p>This sends an HTTP POST request to the <a href="https://reqres.in/">Reqres</a> api which is a fake online REST api that includes a <code>/api/posts</code> route that responds to <code>POST</code> requests with the contents of the post body and an id property. The id from the response is assigned to the react component state property <code>postId</code> so it can be displayed in the component <code>render()</code> method.</p> <pre class="line-numbers"><code class="language-javascript">componentDidMount() {<br/>    // Simple POST request with a JSON body using fetch<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions)<br/>        .then(response =&gt; response.json())<br/>        .then(data =&gt; this.setState({ postId: data.id }));<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequest.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequest.jsx</a></p> <h2><br><br/>POST request using fetch with React hooks</h2> <p>This sends the same POST request from React using fetch, but this version uses React hooks from a function component instead of lifecycle methods from a traditional React class component. The <code>useEffect</code> React hook replaces the <code>componentDidMount</code> lifecycle method to make the HTTP POST request when the component loads.</p> <p>The second parameter to the <code>useEffect</code> React hook is an array of dependencies that determines when the hook is run, passing an empty array causes the hook to only be run once when the component first loads, like the <code>componentDidMount</code> lifecyle method in a class component. For more info on React hooks see <a href="https://reactjs.org/docs/hooks-intro.html">https://reactjs.org/docs/hooks-intro.html</a>.</p> <pre class="line-numbers"><code class="language-javascript">useEffect(() =&gt; {<br/>    // POST request using fetch inside useEffect React hook<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React Hooks POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions)<br/>        .then(response =&gt; response.json())<br/>        .then(data =&gt; setPostId(data.id));<br/><br/>// empty dependency array means this effect will only run once (like componentDidMount in classes)<br/>}, []);</code></pre> <p>Example React hooks component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestHooks.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestHooks.jsx</a></p> <h2><br><br/>POST request using fetch with async/await</h2> <p>This sends the same POST request from React using fetch, but this version uses an <code>async</code> function and the <code>await</code> javascript expression to wait for the promises to return (instead of using the promise <code>then()</code> method as above).</p> <pre class="line-numbers"><code class="language-javascript">async componentDidMount() {<br/>    // POST request using fetch with async/await<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    const response = await fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions);<br/>    const data = await response.json();<br/>    this.setState({ postId: data.id });<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestAsyncAwait.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestAsyncAwait.jsx</a></p> <h2><br><br/>POST request using fetch with error handling</h2> <p>This sends a POST request from React to an invalid url on the api then assigns the error to the <code>errorMessage</code> component state property and logs the error to the console.</p> <p>The <code>fetch()</code> function will automatically throw an error for network errors but not for HTTP errors such as 4xx or 5xx responses. For HTTP errors we can check the <code>response.ok</code> property to see if the request failed and reject the promise ourselves by calling <code>return Promise.reject(error);</code>. This approach means that both types of failed requests - network errors and http errors - can be handled by a single <code>catch()</code> block.</p> <pre class="line-numbers"><code class="language-javascript">componentDidMount() {<br/>    // POST request using fetch with error handling<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { &apos;Content-Type&apos;: &apos;application/json&apos; },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/invalid-url&apos;, requestOptions)<br/>        .then(async response =&gt; {<br/>            const isJson = response.headers.get(&apos;content-type&apos;)?.includes(&apos;application/json&apos;);<br/>            const data = isJson &amp;&amp; await response.json();<br/><br/>            // check for error response<br/>            if (!response.ok) {<br/>                // get error message from body or default to response status<br/>                const error = (data &amp;&amp; data.message) || response.status;<br/>                return Promise.reject(error);<br/>            }<br/><br/>            this.setState({ postId: data.id })<br/>        })<br/>        .catch(error =&gt; {<br/>            this.setState({ errorMessage: error.toString() });<br/>            console.error(&apos;There was an error!&apos;, error);<br/>        });<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestErrorHandling.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestErrorHandling.jsx</a></p> <h2><br><br/>POST request using fetch with set HTTP headers</h2> <p>This sends the same POST request again from React using fetch with a couple of extra headers set, the HTTP <code>Authorization</code> header and a custom header <code>My-Custom-Header</code>.</p> <pre class="line-numbers"><code class="language-javascript">componentDidMount() {<br/>    // POST request using fetch with set headers<br/>    const requestOptions = {<br/>        method: &apos;POST&apos;,<br/>        headers: { <br/>            &apos;Content-Type&apos;: &apos;application/json&apos;,<br/>            &apos;Authorization&apos;: &apos;Bearer my-token&apos;,<br/>            &apos;My-Custom-Header&apos;: &apos;foobar&apos;<br/>        },<br/>        body: JSON.stringify({ title: &apos;React POST Request Example&apos; })<br/>    };<br/>    fetch(&apos;https://reqres.in/api/posts&apos;, requestOptions)<br/>        .then(response =&gt; response.json())<br/>        .then(data =&gt; this.setState({ postId: data.id }));<br/>}</code></pre> <p>Example React component at <a href="https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestSetHeaders.jsx">https://stackblitz.com/edit/react-http-post-request-examples-fetch?file=App/PostRequestSetHeaders.jsx</a></p> <p>Update History:</p> <ul> <li>22 Apr 2021 - Replaced JSONPlaceholder API with Reqres API in examples because JSONPlaceholder stopped allowing CORS requests</li> <li>01 Feb 2020 - Created fetch POST request examples</li><br/></ul> </div><p>Subscribe to my YouTube channel or follow me on Twitter, Facebook or GitHub to be notified when I post new content.</p><p>I&apos;m currently attempting to travel around Australia by motorcycle with my wife Tina on a pair of Royal Enfield Himalayans. You can follow our adventures on YouTube, Instagram and Facebook.</p></div>